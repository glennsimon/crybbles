<html>
  <head>
    <script>
      let bigNum = '0x';
      let tokenData;

      for (let i = 0; i < 8; i++) {
        let num = Math.round(Math.random() * parseInt('FFFFFFFF', 16)).toString(
          16
        );
        while (num.length < 8) {
          num = '0' + num;
        }
        bigNum += num;
      }

      tokenData = { hash: bigNum, tokenId: '8000976' };
      // tokenData = { 'hash': '0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff', 'tokenId': '8000976' }
      // tokenData = { 'hash': '0x0000000000000000000000000000000000000000000000000000000000000000', 'tokenId': '8000976' }
      // tokenData = { 'hash': '0x0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f', 'tokenId': '8000976' }
      // tokenData = { 'hash': '0xf0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0f0', 'tokenId': '8000976' }
      // tokenData = { 'hash': '0xff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00', 'tokenId': '8000976' }
      // tokenData = { 'hash': '0x00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff00ff', 'tokenId': '8000976' }
      // tokenData = { 'hash': '0xb8eb7ea2d24c05e61ff504eb21adbdd85d34c4c65e337645ff930bf831479122', 'tokenId': '8000976' }
    </script>
  </head>
  <body>
    <div id="container">
      <div id="floor-datum">
        <div id="floor"></div>
      </div>
    </div>
    <script>
const toRad=e=>2*Math.PI*e/360,toDeg=e=>360*e/(2*Math.PI),windowWidth=Math.min(window.innerWidth,window.innerHeight)-20,windowHeight=windowWidth,floorWidth=5*windowWidth/3,floorHeight=floorWidth,outerNucleusRad=floorWidth/3,nBubblesRange=[5,9],leftPosDriftRange=[-windowWidth,windowWidth],bubbleSizeRange=[windowWidth/6,windowWidth/3],durationRange=[6,15],spinDurationRange=[3,10];let nextDimIdx=0,dimIdxDirection="incr";const hashObject={},attributes={},nucleusData=[],bubbleEngine=[],visibleBubbles=[],style=document.createElement("style"),setBgGradient=(e,t)=>{style.innerHTML=`\n* {\n  box-sizing: border-box;\n  position: absolute;\n}\nbody {\n  margin: 0;\n  padding: 0;\n}\n#container {\n  position: fixed;\n  width: ${windowWidth}px;\n  height: ${windowHeight}px;\n  top: 50%;\n  left: 50%;\n  margin-top: -${windowWidth/2}px;\n  margin-left: -${windowWidth/2}px;\n  overflow: hidden;\n  perspective: ${.9*windowWidth}px;\n  background: radial-gradient(circle at bottom,\n    ${LightenDarkenColor(e,t)},\n    ${e});\n}\n#floor-datum {\n  width: ${floorWidth}px;\n  height: ${floorHeight}px;\n  left: -${windowWidth/3}px;\n  transform-style: preserve-3d;\n  transform: rotateX(90deg);\n}\n#floor {\n  width: ${floorWidth}px;\n  height: ${floorHeight}px;\n  background: radial-gradient(circle at center,\n    ${LightenDarkenColor(e,t)}B0,\n    ${e}B0 70.7%, transparent 70.7%);\n  transform-style: preserve-3d;\n  animation: floor-rot ${attributes.floorRotPeriod}s linear infinite;\n}`};document.head.appendChild(style);const initiateBubble=e=>{const t=document.getElementById("floor"),n=document.createElement("div");n.classList.add("b"+e+"-tran-datum","bubble-tran-datum");const a=document.createElement("div");a.classList.add("b"+e+"-grow-datum");const r=document.createElement("div");switch(r.classList.add("b"+e+"-element"),a.append(r),n.append(a),t.append(n),nucleusData[e].bubbleType){case"cube":for(let t=1;t<7;t++){const n=document.createElement("div");n.classList.add("b"+e+"-cube-face","b"+e+"-cube-face"+t),r.append(n)}break;case"tetra":for(let t=1;t<5;t++){const n=document.createElement("div");n.classList.add("b"+e+"-tetra-face","b"+e+"-tet-face"+t),r.append(n)}break;case"dodec":for(let t=1;t<13;t++){const n=document.createElement("div");n.classList.add("b"+e+"-dodec-face","b"+e+"-dod-face"+t.toString(16).toUpperCase()),r.append(n)}}n.addEventListener("animationend",(()=>n.remove()))},addBubbleStyle=(e,t,n,a,r,o,i)=>{let l,s,d,c,b,g;switch(nucleusData[e].bubbleType){case"cube":s=Math.sqrt(3*(t/2)**2),d=t/2,style.innerHTML+=`\n.b${e}-tran-datum {\n  width: ${2*s}px;\n  height: ${2*s}px;\n  left: ${nucleusData[e].location[0]-s}px;\n  top: ${nucleusData[e].location[1]-s}px;\n  transform-style: preserve-3d;\n  animation: b${e}-translate ${a}s ease-in forwards;\n}\n.b${e}-grow-datum {\n  width: ${2*s}px;\n  height: ${2*s}px;\n  transform-style: preserve-3d;\n  animation: b${e}-size ${a}s linear forwards;\n}\n.b${e}-element {\n  width: ${2*s}px;\n  height: ${2*s}px;\n  transform-style: preserve-3d;\n  animation: b${e}-spin ${o}s linear infinite;\n}\n.b${e}-cube-face {\n  width: ${t}px;\n  height: ${t}px;\n  left: ${s-d};\n  top: ${s-d};\n  backface-visibility: inherit;\n}\n.b${e}-cube-face1 {\n  background: radial-gradient(circle at center,\n      transparent 0, ${LightenDarkenColor(getNextColor(),127)}70 100%);\n  transform: translateZ(${d}px);\n}\n.b${e}-cube-face2 {\n  background: radial-gradient(circle at center,\n      transparent 0, ${LightenDarkenColor(getNextColor(),127)}70 100%);\n  transform: rotateY(180deg) translateZ(${d}px);\n}\n.b${e}-cube-face3 {\n  background: radial-gradient(circle at center,\n      transparent 0, ${LightenDarkenColor(getNextColor(),127)}70 100%);\n  transform: rotateY(90deg) translateZ(${d}px);\n}\n.b${e}-cube-face4 {\n  background: radial-gradient(circle at center,\n      transparent 0, ${LightenDarkenColor(getNextColor(),127)}70 100%);\n  transform: rotateY(-90deg) translateZ(${d}px);\n}\n.b${e}-cube-face5 {\n  background: radial-gradient(circle at center,\n      transparent 0, ${LightenDarkenColor(getNextColor(),127)}70 100%);\n  transform: rotateX(90deg) translateZ(${d}px);\n}\n.b${e}-cube-face6 {\n  background: radial-gradient(circle at center,\n      transparent 0, ${LightenDarkenColor(getNextColor(),127)}70 100%);\n  transform: rotateX(-90deg) translateZ(${d}px);\n}`;break;case"tetra":l=1.6*t,c=l/Math.sqrt(3),b=c/2,g=Math.asin(b/(b+c));let n=Math.PI/2-g,r=c/Math.cos(g);d=(c+b)*Math.cos(g)-r,s=Math.sqrt(d**2+c**2),style.innerHTML+=`\n.b${e}-tran-datum {\n  width: ${2*s}px;\n  height: ${2*s}px;\n  left: ${nucleusData[e].location[0]-s}px;\n  top: ${nucleusData[e].location[1]-s}px;\n  transform-style: preserve-3d;\n  animation: b${e}-translate ${a}s ease-in forwards;\n}\n.b${e}-grow-datum {\n  width: ${2*s}px;\n  height: ${2*s}px;\n  transform-style: preserve-3d;\n  animation: b${e}-size ${a}s linear forwards;\n}\n.b${e}-element {\n  width: ${2*s}px;\n  height: ${2*s}px;\n  transform-style: preserve-3d;\n  animation: b${e}-spin ${o}s linear infinite;\n}\n.b${e}-tetra-face {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  backface-visibility: inherit;\n  clip-path: polygon(50% ${s+c}px,\n    ${s-l/2}px ${s-b}px,\n    ${s+l/2}px ${s-b}px);\n  transform-origin: 50% 50%;\n}\n.b${e}-tet-face1 {\n  background: radial-gradient(circle at center,\n      transparent 0, ${LightenDarkenColor(getNextColor(),127)}70 70%);\n  transform: translateZ(-${d}px);\n}\n.b${e}-tet-face2 {\n  background: radial-gradient(circle at center,\n      transparent 0, ${LightenDarkenColor(getNextColor(),127)}70 70%);\n  transform: rotateX(${360*n/(2*Math.PI)}deg) translateZ(${d}px);\n}\n.b${e}-tet-face3 {\n  background: radial-gradient(circle at center,\n      transparent 0, ${LightenDarkenColor(getNextColor(),127)}70 70%);\n  transform: rotate3d(-0.5, ${Math.sqrt(3)/2}, 0, ${360*n/(2*Math.PI)}deg) translateZ(${d}px);\n}\n.b${e}-tet-face4 {\n  background: radial-gradient(circle at center,\n      transparent 0, ${LightenDarkenColor(getNextColor(),127)}70 70%);\n  transform: rotate3d(0.5, ${Math.sqrt(3)/2}, 0, -${360*n/(2*Math.PI)}deg) translateZ(${d}px);\n}`;break;case"dodec":b=.42*t;let i=54,h=72,p=b*Math.cos(toRad(h/2)),$=2*b*Math.sin(toRad(h/2)),u=2*b*Math.sin(toRad(h)),f=$*Math.sin(toRad(180-2*i));c=(u-$)/2/Math.cos(toRad(i));let m=c*Math.sin(toRad(i));g=Math.PI/2-Math.asin(m/f);let x=360*g/(2*Math.PI);d=p/Math.tan(g/2),s=Math.sqrt(b**2+d**2),style.innerHTML+=`\n.b${e}-tran-datum {\n  width: ${2*s}px;\n  height: ${2*s}px;\n  left: ${nucleusData[e].location[0]-s}px;\n  top: ${nucleusData[e].location[1]-s}px;\n  transform-style: preserve-3d;\n  animation: b${e}-translate ${a}s ease-in forwards;\n}\n.b${e}-grow-datum {\n  width: ${2*s}px;\n  height: ${2*s}px;\n  transform-style: preserve-3d;\n  animation: b${e}-size ${a}s linear forwards;\n}\n.b${e}-element {\n  width: ${2*s}px;\n  height: ${2*s}px;\n  transform-style: preserve-3d;\n  animation: b${e}-spin ${o}s linear infinite;\n}\n.b${e}-dodec-face {\n  width: 100%;\n  height: 100%;\n  backface-visibility: inherit;\n  clip-path: polygon(${s}px ${s-b}px,\n    ${s+u/2}px ${s-(f-p)}px,\n    ${s+$/2}px ${s+p}px,\n    ${s-$/2}px ${s+p}px,\n    ${s-u/2}px ${s-(f-p)}px);\n  transform-origin: 50% 50%;\n}\n.b${e}-dod-face1 {\n  background: radial-gradient(circle at center,\n      transparent 0, ${LightenDarkenColor(getNextColor(),127)}80 70%);\n  transform: translateZ(${d}px);\n}\n.b${e}-dod-face2 {\n  background: radial-gradient(circle at center,\n      transparent 0, ${LightenDarkenColor(getNextColor(),127)}80 70%);\n  transform: rotate3d(1, 0, 0, -${x}deg) rotateZ(36deg) translateZ(${d}px);\n}\n.b${e}-dod-face3 {\n  background: radial-gradient(circle at center,\n      transparent 0, ${LightenDarkenColor(getNextColor(),127)}80 70%);\n  transform: rotate3d(${Math.cos(toRad(72))}, ${Math.sin(toRad(72))}, 0, -${x}deg) rotateZ(36deg) translateZ(${d}px);\n}\n.b${e}-dod-face4 {\n  background: radial-gradient(circle at center,\n      transparent 0, ${LightenDarkenColor(getNextColor(),127)}80 70%);\n  transform: rotate3d(-${Math.cos(toRad(36))}, ${Math.sin(toRad(36))}, 0, -${x}deg) rotateZ(36deg) translateZ(${d}px);\n}\n.b${e}-dod-face5 {\n  background: radial-gradient(circle at center,\n      transparent 0, ${LightenDarkenColor(getNextColor(),127)}80 70%);\n  transform: rotate3d(-${Math.cos(toRad(36))}, -${Math.sin(toRad(36))}, 0, -${x}deg) rotateZ(36deg) translateZ(${d}px);\n}\n.b${e}-dod-face6 {\n  background: radial-gradient(circle at center,\n      transparent 0, ${LightenDarkenColor(getNextColor(),127)}80 70%);\n  transform: rotate3d(${Math.cos(toRad(72))}, -${Math.sin(toRad(72))}, 0, -${x}deg) rotateZ(36deg) translateZ(${d}px);\n}\n.b${e}-dod-face7 {\n  background: radial-gradient(circle at center,\n      transparent 0, ${LightenDarkenColor(getNextColor(),127)}80 70%);\n  transform: rotate3d(1, 0, 0, -${180+x}deg) rotateZ(36deg) translateZ(${d}px);\n}\n.b${e}-dod-face8 {\n  background: radial-gradient(circle at center,\n      transparent 0, ${LightenDarkenColor(getNextColor(),127)}80 70%);\n  transform: rotate3d(${Math.cos(toRad(72))}, ${Math.sin(toRad(72))}, 0, -${180+x}deg) rotateZ(36deg) translateZ(${d}px);\n}\n.b${e}-dod-face9 {\n  background: radial-gradient(circle at center,\n      transparent 0, ${LightenDarkenColor(getNextColor(),127)}80 70%);\n  transform: rotate3d(-${Math.cos(toRad(36))}, ${Math.sin(toRad(36))}, 0, -${180+x}deg) rotateZ(36deg) translateZ(${d}px);\n}\n.b${e}-dod-faceA {\n  background: radial-gradient(circle at center,\n      transparent 0, ${LightenDarkenColor(getNextColor(),127)}80 70%);\n  transform: rotate3d(-${Math.cos(toRad(36))}, -${Math.sin(toRad(36))}, 0, -${180+x}deg) rotateZ(36deg) translateZ(${d}px);\n}\n.b${e}-dod-faceB {\n  background: radial-gradient(circle at center,\n      transparent 0, ${LightenDarkenColor(getNextColor(),127)}80 70%);\n  transform: rotate3d(${Math.cos(toRad(72))}, -${Math.sin(toRad(72))}, 0, -${180+x}deg) rotateZ(36deg) translateZ(${d}px);\n}\n.b${e}-dod-faceC {\n  background: radial-gradient(circle at center,\n      transparent 0, ${LightenDarkenColor(getNextColor(),127)}80 70%);\n  transform: rotate3d(1, 0, 0, 180deg) translateZ(${d}px);\n}`}style.innerHTML+=`\n@keyframes b${e}-spin { \n  from { transform: rotate3d(${r[0]}, ${r[1]}, ${r[2]}, 0deg); }\n  to { transform: rotate3d(${r[0]}, ${r[1]}, ${r[2]}, 360deg); }\n}\n@keyframes floor-rot { \n  to { transform: rotateZ(360deg); }\n}\n@keyframes b${e}-translate { \n  to {\n    transform: translateZ(${2*windowHeight}px);\n    left: ${nucleusData[e].location[0]+n}px;\n  }\n}\n@keyframes b${e}-size { \n  0% { transform: scale3d(0.1, 0.1, 0.1); }\n  3.3% { transform: scale3d(0.5, 0.5, 0.5); }\n  33.3% { transform: scale3d(1, 1, 1); }\n}`},lerpInteger=(e,t)=>{const n=hashObject.fracArray[chooseNextIdx()];return Math.floor((1-n)*e+n*(t+1))},lerpReal=(e,t)=>{const n=hashObject.fracArray[chooseNextIdx()]+.5/256;return(1-n)*e+n*t},chooseNextIdx=()=>(nextDimIdx===hashObject.fracArray.length-1?dimIdxDirection="decr":0===nextDimIdx&&(dimIdxDirection="incr"),"incr"===dimIdxDirection?nextDimIdx++:nextDimIdx--),defineAttributes=()=>{attributes.numberOfBubbles=lerpInteger(nBubblesRange[0],nBubblesRange[1]),attributes.floorRotPeriod=15*lerpInteger(0,3),attributes.bubbleTypes=lerpInteger(1,3)},processHash=e=>{const t=[],n=[],a=e.slice(2);for(let e=0;e<63;e++){const r=a.slice(e,e+2);t[e]=r,n[e]=parseInt(r,16)/256}hashObject.hexArray=t,hashObject.fracArray=n},getNextColor=()=>{let e="#";for(let t=0;t<3;t++){let t=hashObject.hexArray[chooseNextIdx()];e+=2===t.length?t:"0"+t}return e},LightenDarkenColor=(e,t)=>{e=e.slice(1);let n="#";for(;e.length>1;){let a=parseInt(e.substring(0,2),16)+t;a=a>255?255:a<0?0:a,tempColorHex=a.toString(16),n+=2===tempColorHex.length?tempColorHex:"0"+tempColorHex,e=e.slice(2)}return n},nucleation=()=>{const e=attributes.numberOfBubbles,t=floorWidth/2,n=floorHeight/2,a=lerpReal(toRad(-45),toRad(45)),r=toRad(360/e);let o=[];for(let i=0;i<e;i++){const e=lerpInteger(outerNucleusRad/4,outerNucleusRad),l=a+i*r;o.push([t+e*Math.sin(l),n+e*Math.cos(l)])}let i=["cube","tetra","dodec"];3!==attributes.bubbleTypes&&i.splice(lerpInteger(-1,1),1),1===attributes.bubbleTypes&&i.splice(lerpInteger(0,1),1);for(let t=0;t<e;t++)nucleusData[t]={},nucleusData[t].bubbleType=i[t%i.length],nucleusData[t].location=o[t];console.log("nucleusData populated.")};async function generateBubbles(){const e=attributes.numberOfBubbles,t=lerpReal(leftPosDriftRange[0],leftPosDriftRange[1]);setTimeout(pauseBubbles,1e4);for(let n=0;n<e;n++){const e=lerpInteger(bubbleSizeRange[0],bubbleSizeRange[1]),a=lerpInteger(durationRange[0],durationRange[1]),r=[hashObject.fracArray[chooseNextIdx()],hashObject.fracArray[chooseNextIdx()],hashObject.fracArray[chooseNextIdx()]],o=lerpReal(spinDurationRange[0],spinDurationRange[1]);addBubbleStyle(n,e,t,a,r,o);const i=a*lerpInteger(2*e,3*e)*1e3/(2*windowHeight/3*1.72);initiateBubble(n),bubbleEngine[n]=setInterval(initiateBubble,i,n),await new Promise((e=>setTimeout(e,1500*hashObject.fracArray[chooseNextIdx()])))}}const checkVisibility=()=>{const e=document.getElementsByClassName("bubble-tran-datum"),t=document.getElementById("container").getBoundingClientRect();for(let n=0;n<e.length;n++){e[n].className.split(" ")[0];if(!visibleBubbles.includes(e[n])){const a=e[n].children[0].children[0].children;for(let r=0;r<a.length;r++){const o=a[r].getBoundingClientRect(),i=a[r].clientHeight;if(o.top+Math.min(o.height,i)>t.top&&o.top<t.bottom){visibleBubbles.push(e[n]);break}}}}},clearInvisibleBubbles=()=>{clearInterval(visibilityCheckerID);const e=[...document.getElementsByClassName("bubble-tran-datum")];for(bubble of e)visibleBubbles.includes(bubble)||bubble.remove()};let visibilityCheckerID;const pauseBubbles=()=>{const e=lerpInteger(1,5)<5;for(let t=0;t<attributes.numberOfBubbles;t++){clearInterval(bubbleEngine[t]);let n=document.body.getElementsByClassName("b"+t+"-tran-datum");document.getElementById("container");for(const e of n)e.style.animationPlayState="paused";n=document.body.getElementsByClassName("b"+t+"-grow-datum");for(const e of n)e.style.animationPlayState="paused";if(e){n=document.body.getElementsByClassName("b"+t+"-element");for(const e of n)e.style.animationPlayState="paused"}}visibilityCheckerID=setInterval(checkVisibility,1e3),setTimeout(clearInvisibleBubbles,1e3*(attributes.floorRotPeriod+1))},create=e=>{processHash(e),attributes.numberOfBubbles=lerpInteger(nBubblesRange[0],nBubblesRange[1]),attributes.floorRotPeriod=15*lerpInteger(0,3),attributes.bubbleTypes=lerpInteger(1,3);const t=LightenDarkenColor(getNextColor(),-100);var n,a;n=t,a=50,style.innerHTML=`\n* {\n  box-sizing: border-box;\n  position: absolute;\n}\nbody {\n  margin: 0;\n  padding: 0;\n}\n#container {\n  position: fixed;\n  width: ${windowWidth}px;\n  height: ${windowHeight}px;\n  top: 50%;\n  left: 50%;\n  margin-top: -${windowWidth/2}px;\n  margin-left: -${windowWidth/2}px;\n  overflow: hidden;\n  perspective: ${.9*windowWidth}px;\n  background: radial-gradient(circle at bottom,\n    ${LightenDarkenColor(n,a)},\n    ${n});\n}\n#floor-datum {\n  width: ${floorWidth}px;\n  height: ${floorHeight}px;\n  left: -${windowWidth/3}px;\n  transform-style: preserve-3d;\n  transform: rotateX(90deg);\n}\n#floor {\n  width: ${floorWidth}px;\n  height: ${floorHeight}px;\n  background: radial-gradient(circle at center,\n    ${LightenDarkenColor(n,a)}B0,\n    ${n}B0 70.7%, transparent 70.7%);\n  transform-style: preserve-3d;\n  animation: floor-rot ${attributes.floorRotPeriod}s linear infinite;\n}`,nucleation(),generateBubbles()};create(tokenData.hash),window.onresize=()=>location.reload();
    </script>
  </body>
</html>
